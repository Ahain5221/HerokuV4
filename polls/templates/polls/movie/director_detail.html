{% extends "base_generic.html" %}

{% block content %}

    <h1> {{ director }} </h1>
    <ul>
        <!--
        <li>Specialisation: {{ director.specialisation }}</li>
        <li>Date of birth: {{ director.date_of_birth }}</li>
        {% if director.date_of_death %}
            <li>Date of death: {{ director.date_of_death }}</li>
        {% endif %}
        -->
        {% if director.movie_set.all %}
            <li>Movies:
                <ul class="list-inline">
                    {% for movie in director.movie_set.all %}
                        <li><a href="{{ movie.get_absolute_url }}">{{ movie.title }}</a></li>
                    {% endfor %}
                </ul>
            </li>
        {% endif %}

        {% if director.series_set.all %}
            <li>Series:
                <ul class="list-inline">
                    {% for series in director.series_set.all %}
                        <li><a href="{{ series.get_absolute_url }}">{{ series.title }}</a></li>
                    {% endfor %}
                </ul>
            </li>
        {% endif %}
    <!--
        {% if director.Verified %}
            <li>Status: verified</li>
        {% else %}
            <li>Status: not verified</li>
        {% endif %}
    -->
    </ul>
    {% if user.is_superuser %}
        <a href="{% url 'director-delete' pk=director.id %}">
            <button class="btn btn-danger btn-sm">DELETE DIRECTOR</button>
        </a>

        <form action="{% url 'director-verification' director.pk %}">
            {% csrf_token %}
            {% if director.Verified %}
                <button type="submit" value="{{ director.pk }}"  class="btn btn-danger btn-sm">Undo verification</button>
            {% else %}
                <button type="submit" value="{{ director.pk }}"   class="btn btn-primary btn-sm">Verify</button>
            {% endif %}
        </form>

        <a href="{% url 'director-update' pk=director.id %}">
            <button class="btn btn-success btn-sm">UPDATE</button>
        </a>
    {% endif %}

{% endblock %}